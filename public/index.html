<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="static/css/main.css">
    <script id="shaderVs" type="x-shader/x-vertex">        
        attribute vec4 vertPosition;
        attribute vec3 vertNormal;


        uniform mat4 mWorld;
        uniform mat4 mView;
        uniform mat4 mProj;

        varying vec3 v_worldPosition;
        varying vec3 v_worldNormal;

        void main() {
        // Multiply the position by the matrix.
        gl_Position =  mProj * mView * mWorld * vertPosition;

        // send the view position to the fragment shader
        v_worldPosition = (mWorld * vertPosition).xyz;

        // orient the normals and pass to the fragment shader
        v_worldNormal = mat3(mWorld) * vertNormal;
        }
    </script>
    
    <script id="shaderFs" type="x-shader/x-fragment">
        precision highp float;

        // Passed in from the vertex shader.
        varying vec3 v_worldPosition;
        varying vec3 v_worldNormal;

        // The texture.
        uniform samplerCube uSampler;

        // The position of the camera
        uniform vec3 mWorldCameraPosition;

        void main() {
        vec3 worldNormal = normalize(v_worldNormal);
        vec3 eyeToSurfaceDir = normalize(v_worldPosition - mWorldCameraPosition);
        vec3 direction = reflect(eyeToSurfaceDir,worldNormal);

        gl_FragColor = textureCube(uSampler, direction);
        }
    </script>
    <script>
        function help() {
            var x = document.getElementById("helpText");
            if (x.style.display === "none") {
                x.style.display = "block";
            } else {
                x.style.display = "none";
            }
        }
    </script>
    <script type="module" src="static/js/script.js"></script>
    <title>Document</title>
</head>
<body>
    <a id="download-link" style="display:none"></a>
    <input style="display: none;" type="file" id="upload-btn" value="Select Files">
    <div style="display:flex; flex-direction:row">
        <div style="margin-right:5px;">
            <canvas id="glCanvas" width="640" height="640"></canvas>
        </div>
        <div>
            <div>
                <button type="button" id="reset">Reset View</button>
            </div>
            <div>
                <button type="button" id="ortho">Orthographic</button>
                <button type="button" id="oblique">Oblique</button>
                <button type="button" id="perspective">Perspective</button>
            </div>
            <div>
                <button type="button" id="shade" value="On" >Shading</button>
                <button type="button" id="save">Save</button>
                <button type="button" id="load">Load</button>
            </div>
            <div>
                <div>
                    <label>Movement</label>
                </div>
                <input type="range" min="-10" max="10" value="0" class="slider" id="movex">
                <input type="range" min="-10" max="10" value="0" class="slider" id="movey">
                <input type="range" min="-10" max="10" value="0" class="slider" id="movez">
            </div>
            <div>
                <div>
                    <label>Eye</label>
                </div>
                <input type="range" min="-10" max="10" value="0" class="slider" id="eyex">
                <input type="range" min="-10" max="10" value="0" class="slider" id="eyey">
                <input type="range" min="-10" max="10" value="-8" class="slider" id="eyez">
            </div>
            <div>
                <div>
                    <label>Center</label>
                </div>
                <input type="range" min="-10" max="10" value="0" class="slider" id="centerx">
                <input type="range" min="-10" max="10" value="0" class="slider" id="centery">
                <input type="range" min="-10" max="10" value="0" class="slider" id="centerz">
            </div>
            <div>
                <div>
                    <label>Up</label>
                </div>
                <input type="range" min="-10" max="10" value="0" class="slider" id="upx">
                <input type="range" min="-10" max="10" value="1" class="slider" id="upy">
                <input type="range" min="-10" max="10" value="0" class="slider" id="upz">
            </div>
            <div>
                <div>
                    <label>Giraffe Animation</label>
                </div>
                <input type="range" min="-20" max="20" value="0" class="slider" id="giraffeRot">
                <button type="button" id="giraffeAnimate">animate</button>
            </div>
            <div>
                <button onclick="help()">Help</button>
                <textarea readonly id="helpText" style="display:none">
Ini Help
                </textarea>
            </div>
        </div>
        
    </div>
</body>
</html>
